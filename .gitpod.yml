# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

tasks:
  - init: |
      sudo apt update
      sudo apt install -y python3.10 python3.10-dev python3.10-venv
      sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 1
      python3.10 -m venv venv
      source venv/bin/activate
      wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -
      sudo sh -c 'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google-chrome.list'
      sudo apt update
      sudo apt install -y google-chrome-stable
      pip install -r requirements.txt
  - command: |
      source venv/bin/activate
      python3 app.py